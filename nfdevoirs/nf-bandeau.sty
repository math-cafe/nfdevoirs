% ============================================================================
% nf-bandeau.sty - Bandeau d'établissement pour nfdevoirs
% Contient le bandeau trois colonnes partagé par toutes les pages de garde
% ============================================================================

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{nfdevoirs/nf-bandeau}[2025/10/06 Bandeau établissement nfdevoirs]

% ============================================================================
% PACKAGES REQUIS
% ============================================================================
\RequirePackage{etoolbox}

% ============================================================================
% BANDEAU ÉTABLISSEMENT (VERSION COMPACTE)
% ============================================================================
\newcommand{\nfbandeau}{%
    % Design en trois colonnes égales (33% chacune)
    \begin{center}
        \begin{minipage}[c]{0.33\textwidth}
            % GAUCHE : Logo + Établissement (justifié à gauche)
            \raggedright
            \expandafter\ifstrempty\expandafter{\@nflogo}{%
            % Pas de logo : établissement centré verticalement
            \expandafter\ifstrempty\expandafter{\@nfetablissement}{}{%
                \vspace{0.3cm}%
                {\textbf{\@nfetablissement}}%
            }%
            }{%
            % Avec logo : logo au-dessus, établissement en-dessous
            \includegraphics[height=1cm]{\@nflogo}%
            \expandafter\ifstrempty\expandafter{\@nfetablissement}{}{%
            \\[0.1cm]{\textbf{\@nfetablissement}}%
            }%
            }%
        \end{minipage}%
        \begin{minipage}[c]{0.33\textwidth}
            % CENTRE : Année scolaire (centré horizontalement et verticalement)
            \centering
            \expandafter\ifstrempty\expandafter{\@nfanscol}{}{%
                \vspace{0.3cm}%
                {\textbf{Année scolaire \nfformatanscol{\@nfanscol}}}%
            }%
        \end{minipage}%
        \begin{minipage}[c]{0.33\textwidth}
            % DROITE : Auteur + Matière (justifié à droite)
            \raggedleft
            \expandafter\ifstrempty\expandafter{\@nfauteur}{}{%
            \vspace{0.3cm}%
            {\textbf{\@nfauteur}}%
            \expandafter\ifstrempty\expandafter{\@nfmatiere}{}{%
            \\[0.1cm]{\@nfmatiere}%
            }%
            }%
        \end{minipage}
    \end{center}
}

\endinput